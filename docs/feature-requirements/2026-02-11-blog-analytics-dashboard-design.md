# Фіча: Blog Analytics Dashboard

## Резюме

Окрема сторінка в адмін-панелі з повною аналітикою блогу: метрики контенту, залученість читачів, перегляди, графіки та інтерактивні фільтри. Дашборд дає адміну повну картину того, як живе блог — що читають, що коментують, як росте аудиторія.

## Рішення

- Нова сторінка **Analytics** в сайдбарі адмін-панелі (поточний Dashboard залишається як є)
- Трекінг переглядів блог-постів (анонімний, без авторизації читача)
- Фікстури в БД для реалістичних даних аналітики
- Інтерактивні графіки з фільтрами та drill-down

## Загальні правила

- **REQ-0.1:** Весь UI (заголовки, лейбли, кнопки, підказки, placeholder'и, повідомлення) — виключно англійською мовою
- **REQ-0.2:** Назви секцій, графіків, колонок таблиць, KPI-карток — англійською
- **REQ-0.3:** Формати дат та чисел — en-US (Feb 11, 2026 / 1,234)

---

## Продуктові вимоги

### 1. Навігація

- **REQ-1.1:** В сайдбарі адмін-панелі з'являється новий пункт "Analytics" з іконкою графіка
- **REQ-1.2:** Сторінка доступна тільки авторизованим адмінам (як і решта адмін-панелі)

---

### 2. KPI-картки (верхня секція)

Ряд карток з ключовими метриками з трендом відносно попереднього періоду:

| # | Картка | Що показує |
|---|--------|-----------|
| **REQ-2.1** | Всього переглядів | Загальна кількість переглядів усіх блогів |
| **REQ-2.2** | Всього блогів | Кількість блогів (опубліковані / чернетки) |
| **REQ-2.3** | Всього коментарів | Кількість коментарів (схвалені / на модерації) |
| **REQ-2.4** | Середня залученість | Середня кількість коментарів на один пост |
| **REQ-2.5** | Рівень схвалення | Відсоток схвалених коментарів від загальної кількості |
| **REQ-2.6** | Найактивніша категорія | Категорія з найбільшою кількістю переглядів за обраний період |

- **REQ-2.7:** Кожна картка показує тренд (стрілочка вгору/вниз + відсоток зміни) порівняно з попереднім аналогічним періодом

---

### 3. Графіки

#### 3.1 Перегляди за часом (лінійний/area графік)

- **REQ-3.1:** Графік показує кількість переглядів по днях/тижнях/місяцях (залежно від обраного періоду)
- **REQ-3.2:** При наведенні на точку — tooltip з точною датою та кількістю переглядів

#### 3.2 Публікації за часом (стовпчиковий графік)

- **REQ-3.3:** Графік показує кількість опублікованих блогів по місяцях
- **REQ-3.4:** Стовпчики розділені кольорами за категоріями (stacked bar)

#### 3.3 Розподіл по категоріях (кругова діаграма)

- **REQ-3.5:** Donut-чарт показує відсоток блогів у кожній категорії
- **REQ-3.6:** При наведенні — назва категорії, кількість та відсоток

#### 3.4 Активність коментарів (стовпчиковий графік)

- **REQ-3.7:** Стовпчиковий графік з двома серіями: схвалені та очікуючі коментарі по місяцях
- **REQ-3.8:** При наведенні — деталі за місяць

#### 3.5 Перегляди по категоріях (горизонтальний bar chart)

- **REQ-3.9:** Горизонтальні стовпчики показують загальну кількість переглядів для кожної категорії
- **REQ-3.10:** Відсортовані від найбільшого до найменшого

---

### 4. Таблиці / Рейтинги

#### 4.1 Топ-5 найпопулярніших постів

- **REQ-4.1:** Таблиця з колонками: назва, категорія, перегляди, коментарі, дата публікації
- **REQ-4.2:** Відсортована за переглядами (найбільше зверху)
- **REQ-4.3:** Назва посту — клікабельне посилання, що відкриває пост

#### 4.2 Топ-5 найкоментованіших постів

- **REQ-4.4:** Таблиця з колонками: назва, категорія, коментарі (схвалені/всього), перегляди
- **REQ-4.5:** Відсортована за кількістю коментарів

#### 4.3 Останні коментарі

- **REQ-4.6:** Список з 5 останніх коментарів: ім'я автора, уривок тексту, назва блогу, дата, статус (схвалений/на модерації)

---

### 5. Інтерактивність

#### 5.1 Фільтр по періоду

- **REQ-5.1:** Кнопки швидкого вибору: 7 днів, 30 днів, 90 днів, рік, весь час
- **REQ-5.2:** Кастомний вибір діапазону дат (date range picker: від — до)
- **REQ-5.3:** Зміна періоду оновлює всі KPI-картки, графіки та таблиці на сторінці

#### 5.2 Фільтр по категорії

- **REQ-5.4:** Dropdown для вибору категорії (All, Technology, Startup, Lifestyle, Finance)
- **REQ-5.5:** Фільтр застосовується до всіх секцій сторінки

#### 5.3 Drill-down (деталізація)

- **REQ-5.6:** Клік на стовпчик/точку графіка переглядів — показує список постів за цей період з їх переглядами
- **REQ-5.7:** Клік на сегмент категорійної діаграми — фільтрує всю сторінку за цією категорією
- **REQ-5.8:** Drill-down відкривається як модалка або розгортається під графіком

#### 5.4 Експорт

- **REQ-5.9:** Кнопка "Експорт CSV" — завантажує файл з усіма метриками за обраний період
- **REQ-5.10:** CSV містить: назва посту, категорія, дата, перегляди, кількість коментарів, статус

---

### 6. Трекінг переглядів

- **REQ-6.1:** Кожен перегляд блог-посту на публічній частині фіксується
- **REQ-6.2:** Трекінг анонімний — не потребує авторизації читача
- **REQ-6.3:** Один унікальний користувач (сесія) рахується один раз за пост за 24 години (дедуплікація)
- **REQ-6.4:** Фіксується джерело переходу (referrer): direct, search, social, інше
- **REQ-6.5:** Перегляди від адмінів/авторів не враховуються в статистиці (або позначаються окремо)

---

### 7. Фікстури (тестові дані)

- **REQ-7.1:** Seed-скрипт створює реалістичні дані переглядів для всіх існуючих блогів
- **REQ-7.2:** Дані розподілені за останні 6 місяців з реалістичним патерном (будні > вихідні, поступне зростання)
- **REQ-7.3:** Різні категорії мають різну популярність (Technology > Lifestyle > Startup > Finance)
- **REQ-7.4:** Фікстури коментарів також розподілені у часі (не всі на одну дату)
- **REQ-7.5:** Після запуску seed дашборд відразу виглядає наповненим та реалістичним
- **REQ-7.6:** Мінімум 15–20 блог-постів у фікстурах (різних категорій, частина — чернетки, частина — опубліковані)
- **REQ-7.7:** Мінімум 80–120 коментарів (різний статус: схвалені / на модерації, розподілені між постами нерівномірно)
- **REQ-7.8:** Мінімум 500–1000 записів переглядів з різними referrer та sessionId
- **REQ-7.9:** Дати створення блогів розкидані по 6 місяцях (не всі створені в один день)
- **REQ-7.10:** Даних має бути достатньо, щоб кожен графік, таблиця та KPI-картка виглядали змістовно і не порожньо при будь-якому фільтрі (категорія, період)

---

### 8. Стани та UX

- **REQ-8.1:** Loading state — скелетони (shimmer) замість порожніх графіків під час завантаження
- **REQ-8.2:** Empty state — якщо ще немає даних, показати повідомлення з пропозицією створити перший пост
- **REQ-8.3:** Error state — якщо API повертає помилку, показати повідомлення з кнопкою "Спробувати знову"
- **REQ-8.4:** Responsive — сторінка коректно виглядає на десктопі, планшеті та мобілці
- **REQ-8.5:** Графіки адаптуються до ширини контейнера

---

## Поза скоупом (не входить у цю фічу)

- Аналітика в реальному часі (real-time updates / WebSocket)
- Географія відвідувачів (потребує геолокації)
- A/B тестування заголовків
- Порівняння періодів side-by-side
- Email-звіти з аналітикою

---

## Відкриті питання

1. Чи потрібна можливість обрати конкретного автора для фільтрації (коли буде мультикористувацькість)?
2. Яка максимальна глибина зберігання даних переглядів (зберігати все назавжди чи агрегувати старі)?
